# 开发进度总结 - v1.1

本文档旨在总结“亮车惠 · 自助洗车系统”项目在当前 v1.1 阶段的开发进度、系统状态及未来方向。

## 1. 已完成的功能模块

项目当前处于早期基础搭建阶段，已完成以下核心模块的初始化和基础配置：

-   **核心框架搭建**:
    -   后端应用基于 **NestJS** 框架搭建。
    -   使用 **TypeORM** 成功配置并连接到 **MySQL** 数据库。
    -   集成了 **Redis** 用于未来的缓存需求。
    -   通过 `ConfigModule` 实现了环境变量的统一管理。

-   **用户模块 (`UserModule`)**:
    -   定义了 `User` (用户) 和 `VerificationCode` (验证码) 两个核心数据实体。
    -   创建了 `UserController`, `UserService`, `SmsService` 的基本代码结构，为实现注册登录功能奠定了基础。

-   **认证模块 (`AuthModule`)**:
    -   集成了 **Passport.js** 并配置了 **JWT (JSON Web Token)** 作为默认认证策略。
    -   `JwtStrategy` 已实现，可用于验证请求中的 Token 合法性。

-   **容器化部署**:
    -   项目已通过 **Docker** 和 **Docker Compose** 实现容器化，包含后端、MySQL 和 Redis 服务，简化了开发环境的部署。

## 2. 尚未完成或待办的功能点

-   **用户核心功能**:
    -   短信验证码的实际发送逻辑。
    -   完整的用户注册和登录流程。
    -   用户个人信息的查询与修改接口。
    -   订单、支付、充值、优惠券等业务功能尚未开始。

-   **商户模块 (`MerchantModule`)**:
    -   该模块尚未创建，相关功能（如门店管理、设备管理、营收提现）需要从零开发。

-   **平台模块 (`PlatformModule`)**:
    -   该模块尚未创建，相关功能（如商户审核、设备监控、财务结算）需要从零开发。

-   **授权与访问控制**:
    -   目前仅有身份认证，尚未实现基于角色的访问控制 (RBAC)。

-   **API 文档**:
    -   项目缺少 API 文档工具（如 Swagger），不利于前后端协同开发。

## 3. 系统当前整体运行状态

-   **后端服务**: 可以通过 `docker-compose up` 成功启动并运行。
-   **数据库服务**: MySQL 和 Redis 服务均可正常连接和访问。
-   **开发环境**: NestJS 的热重载功能正常，代码变更后服务可以自动重启。
-   **API 状态**: 仅有基础的 `AppController` 根路径接口和 `UserController` 的空路由框架，尚无实际可用的业务 API。

## 4. 下一步开发建议

为了高效推进项目，建议按以下优先级进行开发：

1.  **完善用户认证体系**:
    -   **最高优先级**: 实现完整的 **手机号验证码注册/登录** 流程，打通系统入口。
    -   实现用户登录后个人信息的获取与更新接口。

2.  **搭建商户模块基础**:
    -   创建 `MerchantModule`，并优先实现 **商户注册** 和 **门店管理** 的核心功能。

3.  **引入 API 文档**:
    -   建议立即集成 **Swagger**，自动生成 API 文档，明确接口规范，方便调试与对接。

4.  **实现基于角色的授权**:
    -   在开发核心业务接口的同时，引入 **NestJS Guards**，实现用户和商户的角色区分与权限控制。